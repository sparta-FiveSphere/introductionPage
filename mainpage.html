<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIVESPHERE - Team Introduction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Gowun Dodum', serif;
            background-color: #f5f5f5;
            color: #333;
        }

        .header {
            text-align: center;
            padding: 50px 20px;
            background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxPVkBp1t97IFFGxMOWw_cOpM2W5wvlXHvXA&s') center/cover;
            color: white;
        }

        .header h1 {
            font-size: 3em;
            margin: 0;
        }

        /*팀 카드 관련*/
        .d-flex {
            width: 1500px;
            margin: 30px auto 30px auto;
        }

        .content {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .section {
            margin: 30px auto 30px auto;
        }


        .team-info {
            padding-left: 300px;
            padding-right: 300px;

            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
        }

        .section h2 {
            font-size: 2em;
            margin-bottom: 15px;
            border-bottom: 2px solid #333;
            display: inline-block;
        }

        .rules-list,
        .goals-list {
            padding-left: 20px;
        }

        .rules-list li,
        .goals-list li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .card {
            flex: 1 1 calc(33.333% - 20px);
            max-width: calc(33.333% - 20px);
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-right: 20px;
        }

        .btn-primary {
            margin-top: 20px;
        }

        .card h3 {
            margin: 10px 0 5px;
        }

        .card p {
            margin: 0;
        }

        @media (max-width: 768px) {
            .card {
                flex: 1 1 calc(50% - 20px);
                max-width: calc(50% - 20px);
            }
        }

        @media (max-width: 480px) {
            .card {
                flex: 1 1 100%;
                max-width: 100%;
            }
        }
    </style>
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase 구성 정보 설정
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Firestore에 데이터 추가하는 함수
        async function addMembersWithCustomId() {
            try {
                await setDoc(doc(db, "members", "1"), {
                    image: "C:\Users\man25\OneDrive\바탕 화면\TeamProject/1.jpg",
                    name: "김수환",
                    role: "팀장",
                    mbti: "ENFP"
                });

                await setDoc(doc(db, "members", "2"), {
                    image: "https://example.com/image2.jpg",
                    name: "손미진",
                    role: "팀원",
                    mbti: "ISTJ"
                });

                await setDoc(doc(db, "members", "3"), {
                    image: "https://example.com/image2.jpg",
                    name: "봉수현",
                    role: "팀원",
                    mbti: "INTJ"
                });

                await setDoc(doc(db, "members", "4"), {
                    image: "https://example.com/image2.jpg",
                    name: "정재민",
                    role: "팀원",
                    mbti: "INTJ"
                });

                await setDoc(doc(db, "members", "5"), {
                    image: "https://example.com/image2.jpg",
                    name: "조성준",
                    role: "팀원",
                    mbti: "ISTP"
                });

                console.log("Members with custom IDs added successfully!");
            } catch (e) {
                console.error("Error adding documents with custom IDs: ", e);
            }
        }

        // 함수 호출
        addMembersWithCustomId();

        // URL 파라미터에서 document_id 가져오기
        const urlParams = new URLSearchParams(window.location.search);
        const documentId = urlParams.get("document_id");

        // Firestore에서 데이터 가져오는 함수
        async function getMemberData(documentId) {
            if (!documentId) {
                console.error("Invalid document ID.");
                return;
            }

            try {
                const docRef = doc(db, "members", documentId);
                const docSnap = await getDoc(docRef);

                if (docSnap.exists()) {
                    const memberData = docSnap.data();
                    displayMemberData(memberData); // 데이터 처리 함수 호출
                } else {
                    console.error("No such document!");
                }
            } catch (error) {
                console.error("Error getting document:", error);
            }
        }

        // 가져온 데이터를 HTML에 표시하는 함수
        function displayMemberData(memberData) {
            const profileName = document.getElementById("profileName");
            const profileRole = document.getElementById("profileRole");
            const profileImage = document.getElementById("profileImage");
            const profileMbti = document.getElementById("profileMbti");

            profileName.textContent = memberData.name;
            profileRole.textContent = memberData.role;
            profileImage.src = memberData.image; // 이미지 변경
            profileMbti.textContent = "MBTI: " + memberData.mbti; // MBTI 표시
        }

        // 페이지 로드 시 해당 멤버의 데이터 불러오기
        getMemberData(documentId);

    </script>
</head>


<body>

    <div class="header">
        <!-- 팀 이름 -->
        <h1 class="display-5 fw-bold">FIVESPHERE</h1>
        <p>스파르타 코딩클럽</p>
    </div>

    <div>
        <!-- 팀 소개 -->
        <div class="team-info">
            <div class="section">
                <h2>Team Rules</h2>
                <ol class="rules-list">
                    <li> 시간 약속을 철저히 지키겠습니다.</li>
                    <li> 자리 비움이나 문제가 생기면 팀원들에게 빠르게 공유하겠습니다.</li>
                    <li> 실수나 문제가 있어도 남 탓하지말고 문제를 해결해 나가는데 집중하겠습니다.</li>
                    <li> 소통을 중요시하므로 대화를 할 때는 캠도 켜고 화면 공유도 잘 하겠습니다.</li>
                    <li> 끝까지 최선을 다하며 파이팅 하겠습니다!</li>
                    </ul>
            </div>

            <div class="section">
                <h2>Team Goals</h2>
                <ol class="goals-list">
                    <li> 매일 일정 소화하기</li>
                    <li> 모르는 것은 부끄럽게 생각하지 말고 바로 바로 물어보기</li>
                    <li> 이번 프로젝트 포트폴리오로 사용하기</li>
                    <li> TIL 매일 쓰기</li>
                    <li> 1일 1 TIL 1 알고리즘</li>
                    <li> 성공적인 팀 프로젝트 하기</li>
                    </ul>
            </div>
        </div>


        <!-- 멤버 카드 -->
        <!-- 카드 클릭 시 개인 페이지로 이동 -->
        <div id="teamCard" class="d-flex flex-row">
            <div class="card" style="width: 18rem;">
                <img src="https://yt3.googleusercontent.com/kIwffqmzJJiPxzk60GJQoNONu3RGQCBGlzlWhA8AEFYg8IQg9xp_vzroskXQ3dIR64aNt7a1eQ=s900-c-k-c0x00ffffff-no-rj"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">김수환</h5>
                    <p class="card-text">팀장</p>
                    <a href="profile.html?document_id=1" class="btn btn-primary">상세 정보</a>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <img src="https://yt3.googleusercontent.com/kIwffqmzJJiPxzk60GJQoNONu3RGQCBGlzlWhA8AEFYg8IQg9xp_vzroskXQ3dIR64aNt7a1eQ=s900-c-k-c0x00ffffff-no-rj"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">손미진</h5>
                    <p class="card-text">팀원</p>
                    <a href="profile.html?document_id=2" class="btn btn-primary">상세 정보</a>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <img src="https://yt3.googleusercontent.com/kIwffqmzJJiPxzk60GJQoNONu3RGQCBGlzlWhA8AEFYg8IQg9xp_vzroskXQ3dIR64aNt7a1eQ=s900-c-k-c0x00ffffff-no-rj"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">봉수현</h5>
                    <p class="card-text">팀원</p>
                    <a href="profile.html?document_id=3" class="btn btn-primary">상세 정보</a>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <img src="https://yt3.googleusercontent.com/kIwffqmzJJiPxzk60GJQoNONu3RGQCBGlzlWhA8AEFYg8IQg9xp_vzroskXQ3dIR64aNt7a1eQ=s900-c-k-c0x00ffffff-no-rj"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">정재민</h5>
                    <p class="card-text">팀원</p>
                    <a href="profile.html?document_id=4" class="btn btn-primary">상세 정보</a>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <img src="https://yt3.googleusercontent.com/kIwffqmzJJiPxzk60GJQoNONu3RGQCBGlzlWhA8AEFYg8IQg9xp_vzroskXQ3dIR64aNt7a1eQ=s900-c-k-c0x00ffffff-no-rj"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">조성준</h5>
                    <p class="card-text">팀원</p>
                    <a href="profile.html?document_id=5" class="btn btn-primary">상세 정보</a>
                </div>
            </div>
        </div>
        <div>
            <!-- 방명록 -->
        </div>
</body>
</div>

</html>